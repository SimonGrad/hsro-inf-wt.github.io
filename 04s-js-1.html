---
layout: presentationA
title: Javascript
permalink: /04s-js-1/
---

layout: true

<footer>
    <span class="icon github">
        <svg version="1.1" class="github-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
            x="0px" y="0px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
            <path fill-rule="evenodd" clip-rule="evenodd" fill="#C2C2C2" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z" />
        </svg>
    </span>
    <a href="https://github.com/sikoried"><span class="username">sikoried</span></a>
</footer>

---

# Webtechnologien 2017

## Javascript, part one.

Korbinian Riedhammer

---

# Project and Team Registration

Register **individually** with the examination office Oct 28 through Nov 7.

Teams must register via E-Mail including team members, topic and technologies.

Kick-off presentations (5') will be Dec 5 (instead of assignment).
- describe your project in 2 minutes
- show user stories and/or sketches
- one slide with: which toolkit, database, authentication will be used?
- see [lecture notes](/04ln-js-1/) for list of recommendations

---

# JavaScript?

- HTML is static, CSS allows for basic animations
- JavaScript is executed client side, allows to modify current page
- [ECMAScript](http://www.ecma-international.org/) standardizes JavaScript
- _syntax_ closely related to Java
- ES5 (2009, what we'll cover today)
+ sort-of object oriented (prototypes)
+ fully supported [by most modern browsers](https://kangax.github.io/compat-table/es5/)
- ES6 (2016)
+ object oriented (classes)
+ better async support (promises)
+ [growing support](https://kangax.github.io/compat-table/es6/)
- payground (for example) https://repl.it/languages/javascript

---

# Adding JavaScript to HTML

Generally speaking, scripts go inside a `script` element, either inside the `head` or inside the `body`.

_Inline_ JavaScript is code contained between the `script` tags.
```javascript
<script>
    console.log("Hello, world!");
</script>
```

_External_ JavaScript is code referenced using the `src` attribute, e.g.
```javascript
<script src="path/tp/file.js"></script>`
```

Technically, you should set `type="javascript"`

---

# Basic Syntax

Comments can be
```javascript
// single line, or
/*
* multi line
*/
```

You can print to the console using `console.log(...)`.

_Variables_ are declared using `var` and are valid within the block; also `let` and `const` in ES6.

_Functions_ are declared with the keyword `function` and an argument list.

There is a difference between `undefined` and `null`.

...just because it works, doesn't mean it is valid syntax!

---

# Variables, Functions and Scopes

<https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Grammar_and_types> Variables are declared using `var`
    and are either **global** or **local**. Variables are **global** if defined outside of functions, and local to the
    **function** otherwise ```javascript if (true) { var x=5; } console.log(x); // x is 5 ``` Variables (and functions)
    are _hoisted_, meaning the declaration actually happens at the beginning of the function. ```javascript
    console.log(x===undefined); // true, not syntax error var x=3; ```> Global variables should be avoided if possible.

    ---

    # Variables, Functions and Scopes

    Basics just like in Java...

    ```javascript
    var x = 3;
    var y = 10.0;
    var str = "Hello, " + 'world!';

    function fn(x) { // no return type
    var y = 4;
    x = 2 * y;
    return x;
    }

    var z = x + y;
    console.log(z); // > 11
    ```

    Valid variable names start with `_`, `$` and characters

    ---

    # Data Types

    Six data types that are primitives:

    - Boolean. `true` and `false`.
    - `null`. A special keyword denoting a null value.
    Because JavaScript is case-sensitive, `null` is not the same as `Null`, `NULL`, or any other variant.
    - `undefined`. A top-level property whose value is undefined.
    - `Number`. `42` or `3.14159`.
    - `String`. `"Howdy"`

    `Object`. Anything else.

    JavaScript is dynamically typed, i.e. conversion is automatic.

    ---

    # Objects and Arrays

    `Object`s are key-value.

    ```javascript
    var obj = {prop1: 'value1', 'weird-prop': 3};

    console.log(typeof(obj)); // > object
    console.log(typeof(obj.prop1)); // > string
    console.log(typeof(obj['weird-prop'])); // > number
    ```

    Arrays are objects. (With numeric properties)

    ```javascript
    var arr = [1, 2, undefined, 'Text'];
    console.log(typeof(arr)); // > object
    console.log(typeof(arr[1])); // > number
    console.log(typeof(arr[2])); // > undefined

    arr.push(0); // arr = [1, 2, undefined, 'Text'', 0]
    arr.pop(); // > 0
    ```


    ---

    # Functions

    Functions are first class citizens.

    ```javascript
    var counter = function (from) {
    return function() { // anonymous
    from = from + 1;
    return from - 1;
    }
    }

    var inc1 = counter(0), inc2 = counter(10);

    inc1(); inc1(); console.log(inc1());
    inc2(); inc2(); console.log(inc2());
    var v = counter(10)(); // > 10
    ```

    Functions can be anonymous.

    ```javascript
    var five_squared = (function(x) { return x * x; })(5);
    ```

    Predefined function: <https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions> --- # Function
        Hoisting ```javascript /* Function declaration */ foo(); //> "bar" function foo() { console.log('bar'); } /*
        Function expression */ baz(); // TypeError: baz is not a function var baz=function() { console.log('bar2'); };
        ``` --- # Control Structures ```javascript if (cond) { } else if { } else { } for (var i=0; i < 10; i++) { } //
        use continue and break while (cond) { } ``` Condition: `true` if not _falsy_ (`false`, `undefined`, `null`,
        `0`, `NaN`, `""`) Equality. - `==` tests for value equality - `===` tests for strict equality ```javascript var
        a=5, b='5' ; console.log(a==b) // true console.log(a===b) // false ``` --- # More Control Structures
        ```javascript switch (value) { case 1: ...; break; default: ... } ``` ```javascript try { throw expr; //
        anything, actually } catch (value) { // ... } finally { // ... } ``` --- # Special `for` constructs
        ```javascript var arr=[3, 5, 7]; arr.foo='hello' ; // remember: arrays are just objects! // go over properties
        for (var i in arr) { console.log(i); // "0" , "1" , "2" , "foo" } // go over iterable properties for (var i of
        arr) { console.log(i); // 3, 5, 7 } ``` --- # Classes ```javascript function Person(name, year) {
        this.numGrayHair=12; // use `this` like in Java this.age=function () { return 2017 - year; } var self=this;
        setInterval(function growolder() { // The callback refers to the `self` variable of which // the value is the
        expected object. self.numGrayHair++; // this would be the closure! }, 1000); } var peter=new Person("Peter",
        1999); console.log(peter.age()); //> 18 ``` Read more on the `this` keyword: <https://zellwk.com/blog/this/>
        --- # The Prototype Pattern The most basic type is `Object`. ```javascript var o=new Object(); ``` Define
        custom classes with constructor. ```javascript function Person(name) { this.name=name; // sort-of `public` }
        var p=new Person("Hans"); console.log(p.name); //> Hans ``` Extend a class post-def. ```javascript
        Person.prototype.getName=function() { return this.name; } console.log(p.getName()); ``` Read more on [class
        hierarchies in JavaScript](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Details_of_the_Object_Model#Class-based_vs._prototype-based_languages).
        --- # The JavaScript Event Loop <https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/EventLoop>
        JavaScript is (typically) interpreted on a single thread, i.e. there is no parallel processing. JavaScript is
        (typically) event driven: timeouts, user interaction, network calls. <img alt="Javascript Event Loop" src="https://blog.carbonfive.com/wp-content/uploads/2013/10/event-loop.png"
        style="width: 80%">

        ---

        # JavaScript: Wat?

        https://www.destroyallsoftware.com/talks/wat

        ---

        # Outlook: ES6

        - Promises
        - Classes
        - Lambda

        ???

        Part 2:
        - DOM and native JS
        - jquery
        - ajax and promise (es6)